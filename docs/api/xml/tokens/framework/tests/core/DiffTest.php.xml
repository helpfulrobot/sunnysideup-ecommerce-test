<?xml version="1.0"?>
<source xmlns="http://xml.phpdox.net/token">
  <file xmlns="http://xml.phpdox.net/src" path="/var/www/_modules/ecommerce_test/trunk/docs/en/phpdox/../../../framework/tests/core" file="DiffTest.php" realpath="/var/www/_modules/ecommerce_test/trunk/framework/tests/core/DiffTest.php" size="1238" time="2015-03-14T10:41:06+13:00" unixtime="1426282866" sha1="6627157f35c59a6b86131efb64e50acebdfaf0a4" relative="framework/tests/core/DiffTest.php"/>
  <line no="1">
    <token name="T_OPEN_TAG">&lt;?php</token>
  </line>
  <line no="2">
    <token name="T_DOC_COMMENT">/**</token>
  </line>
  <line no="3">
    <token name="T_DOC_COMMENT"> * @package cms</token>
  </line>
  <line no="4">
    <token name="T_DOC_COMMENT"> * @subpackage tests</token>
  </line>
  <line no="5">
    <token name="T_DOC_COMMENT"> */</token>
  </line>
  <line no="6"/>
  <line no="7">
    <token name="T_CLASS">class</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_STRING">DiffTest</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_EXTENDS">extends</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_STRING">SapphireTest</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_PHPDOX_OPEN_CURLY">{</token>
  </line>
  <line no="8">
    <token name="T_WHITESPACE">	</token>
  </line>
  <line no="9">
    <token name="T_WHITESPACE">	</token>
    <token name="T_DOC_COMMENT">/**</token>
  </line>
  <line no="10">
    <token name="T_DOC_COMMENT">	 * @see https://groups.google.com/forum/#!topic/silverstripe-dev/yHcluCvuszo</token>
  </line>
  <line no="11">
    <token name="T_DOC_COMMENT">	 */</token>
  </line>
  <line no="12">
    <token name="T_WHITESPACE">	</token>
    <token name="T_PUBLIC">public</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_FUNCTION">function</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_STRING">testTableDiff</token>
    <token name="T_PHPDOX_OPEN_BRACKET">(</token>
    <token name="T_PHPDOX_CLOSE_BRACKET">)</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_PHPDOX_OPEN_CURLY">{</token>
  </line>
  <line no="13">
    <token name="T_WHITESPACE">		</token>
    <token name="T_IF">if</token>
    <token name="T_PHPDOX_OPEN_BRACKET">(</token>
    <token name="T_PHPDOX_EXCLAMATION_MARK">!</token>
    <token name="T_STRING">class_exists</token>
    <token name="T_PHPDOX_OPEN_BRACKET">(</token>
    <token name="T_CONSTANT_ENCAPSED_STRING">'DOMDocument'</token>
    <token name="T_PHPDOX_CLOSE_BRACKET">)</token>
    <token name="T_PHPDOX_CLOSE_BRACKET">)</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_PHPDOX_OPEN_CURLY">{</token>
  </line>
  <line no="14">
    <token name="T_WHITESPACE">			</token>
    <token name="T_VARIABLE">$this</token>
    <token name="T_OBJECT_OPERATOR">-&gt;</token>
    <token name="T_STRING">markTestSkipped</token>
    <token name="T_PHPDOX_OPEN_BRACKET">(</token>
    <token name="T_CONSTANT_ENCAPSED_STRING">'"DOMDocument" required'</token>
    <token name="T_PHPDOX_CLOSE_BRACKET">)</token>
    <token name="T_PHPDOX_SEMICOLON">;</token>
  </line>
  <line no="15">
    <token name="T_WHITESPACE">			</token>
    <token name="T_RETURN">return</token>
    <token name="T_PHPDOX_SEMICOLON">;</token>
  </line>
  <line no="16">
    <token name="T_WHITESPACE">		</token>
    <token name="T_PHPDOX_CLOSE_CURLY">}</token>
  </line>
  <line no="17">
    <token name="T_WHITESPACE">		</token>
  </line>
  <line no="18">
    <token name="T_WHITESPACE">		</token>
    <token name="T_VARIABLE">$from</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_PHPDOX_EQUAL">=</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_CONSTANT_ENCAPSED_STRING">"&lt;table&gt; </token>
  </line>
  <line no="19">
    <token name="T_CONSTANT_ENCAPSED_STRING">		&lt;tbody&gt; </token>
  </line>
  <line no="20">
    <token name="T_CONSTANT_ENCAPSED_STRING">			&lt;tr class=\"blah\"&gt; </token>
  </line>
  <line no="21">
    <token name="T_CONSTANT_ENCAPSED_STRING">				&lt;td colspan=\"2\"&gt;Row 1&lt;/td&gt; </token>
  </line>
  <line no="22">
    <token name="T_CONSTANT_ENCAPSED_STRING">			&lt;/tr&gt; </token>
  </line>
  <line no="23">
    <token name="T_CONSTANT_ENCAPSED_STRING">			&lt;tr class=\"foo\"&gt; </token>
  </line>
  <line no="24">
    <token name="T_CONSTANT_ENCAPSED_STRING">				&lt;td&gt;Row 2&lt;/td&gt; </token>
  </line>
  <line no="25">
    <token name="T_CONSTANT_ENCAPSED_STRING">				&lt;td&gt;Row 2&lt;/td&gt; </token>
  </line>
  <line no="26">
    <token name="T_CONSTANT_ENCAPSED_STRING">			&lt;/tr&gt; </token>
  </line>
  <line no="27">
    <token name="T_CONSTANT_ENCAPSED_STRING">			&lt;tr&gt; </token>
  </line>
  <line no="28">
    <token name="T_CONSTANT_ENCAPSED_STRING">				&lt;td&gt;Row 3&lt;/td&gt; </token>
  </line>
  <line no="29">
    <token name="T_CONSTANT_ENCAPSED_STRING">				&lt;td&gt;Row 3&lt;/td&gt; </token>
  </line>
  <line no="30">
    <token name="T_CONSTANT_ENCAPSED_STRING">			&lt;/tr&gt; </token>
  </line>
  <line no="31">
    <token name="T_CONSTANT_ENCAPSED_STRING">			&lt;/tbody&gt; </token>
  </line>
  <line no="32">
    <token name="T_CONSTANT_ENCAPSED_STRING">		&lt;/table&gt;"</token>
    <token name="T_PHPDOX_SEMICOLON">;</token>
  </line>
  <line no="33"/>
  <line no="34">
    <token name="T_WHITESPACE">		</token>
    <token name="T_VARIABLE">$to</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_PHPDOX_EQUAL">=</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_CONSTANT_ENCAPSED_STRING">"&lt;table class=\"new-class\"&gt; </token>
  </line>
  <line no="35">
    <token name="T_CONSTANT_ENCAPSED_STRING">		&lt;tbody&gt; </token>
  </line>
  <line no="36">
    <token name="T_CONSTANT_ENCAPSED_STRING">			&lt;tr class=\"blah\"&gt; </token>
  </line>
  <line no="37">
    <token name="T_CONSTANT_ENCAPSED_STRING">				&lt;td colspan=\"2\"&gt;Row 1&lt;/td&gt; </token>
  </line>
  <line no="38">
    <token name="T_CONSTANT_ENCAPSED_STRING">			&lt;/tr&gt; </token>
  </line>
  <line no="39">
    <token name="T_CONSTANT_ENCAPSED_STRING">			&lt;tr class=\"foo\"&gt; </token>
  </line>
  <line no="40">
    <token name="T_CONSTANT_ENCAPSED_STRING">				&lt;td&gt;Row 2&lt;/td&gt; </token>
  </line>
  <line no="41">
    <token name="T_CONSTANT_ENCAPSED_STRING">				&lt;td&gt;Row 2&lt;/td&gt; </token>
  </line>
  <line no="42">
    <token name="T_CONSTANT_ENCAPSED_STRING">			&lt;/tr&gt; </token>
  </line>
  <line no="43">
    <token name="T_CONSTANT_ENCAPSED_STRING">		&lt;/tbody&gt; </token>
  </line>
  <line no="44">
    <token name="T_CONSTANT_ENCAPSED_STRING">		&lt;/table&gt;"</token>
    <token name="T_PHPDOX_SEMICOLON">;</token>
  </line>
  <line no="45">
    <token name="T_WHITESPACE">		</token>
  </line>
  <line no="46">
    <token name="T_WHITESPACE">		</token>
    <token name="T_VARIABLE">$expected</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_PHPDOX_EQUAL">=</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_CONSTANT_ENCAPSED_STRING">"&lt;ins&gt;"</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_PHPDOX_DOT">.</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_VARIABLE">$to</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_PHPDOX_DOT">.</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_CONSTANT_ENCAPSED_STRING">"&lt;/ins&gt;"</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_PHPDOX_DOT">.</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_CONSTANT_ENCAPSED_STRING">"&lt;del&gt;"</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_PHPDOX_DOT">.</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_VARIABLE">$from</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_PHPDOX_DOT">.</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_CONSTANT_ENCAPSED_STRING">"&lt;/del&gt;"</token>
    <token name="T_PHPDOX_SEMICOLON">;</token>
  </line>
  <line no="47">
    <token name="T_WHITESPACE">		</token>
    <token name="T_VARIABLE">$compare</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_PHPDOX_EQUAL">=</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_STRING">Diff</token>
    <token name="T_DOUBLE_COLON">::</token>
    <token name="T_STRING">compareHTML</token>
    <token name="T_PHPDOX_OPEN_BRACKET">(</token>
    <token name="T_VARIABLE">$from</token>
    <token name="T_PHPDOX_COMMA">,</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_VARIABLE">$to</token>
    <token name="T_PHPDOX_CLOSE_BRACKET">)</token>
    <token name="T_PHPDOX_SEMICOLON">;</token>
  </line>
  <line no="48">
    <token name="T_WHITESPACE">		</token>
  </line>
  <line no="49">
    <token name="T_WHITESPACE">		</token>
    <token name="T_COMMENT">// Very hard to debug this way, wouldn't need to do this if PHP had an *actual* DOM parsing lib,</token>
  </line>
  <line no="50">
    <token name="T_WHITESPACE">		</token>
    <token name="T_COMMENT">// and not just the poor excuse that is DOMDocument</token>
  </line>
  <line no="51">
    <token name="T_WHITESPACE">		</token>
    <token name="T_VARIABLE">$compare</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_PHPDOX_EQUAL">=</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_STRING">preg_replace</token>
    <token name="T_PHPDOX_OPEN_BRACKET">(</token>
    <token name="T_CONSTANT_ENCAPSED_STRING">'/[\s\t\n\r]*/'</token>
    <token name="T_PHPDOX_COMMA">,</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_CONSTANT_ENCAPSED_STRING">''</token>
    <token name="T_PHPDOX_COMMA">,</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_VARIABLE">$compare</token>
    <token name="T_PHPDOX_CLOSE_BRACKET">)</token>
    <token name="T_PHPDOX_SEMICOLON">;</token>
  </line>
  <line no="52">
    <token name="T_WHITESPACE">		</token>
    <token name="T_VARIABLE">$expected</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_PHPDOX_EQUAL">=</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_STRING">preg_replace</token>
    <token name="T_PHPDOX_OPEN_BRACKET">(</token>
    <token name="T_CONSTANT_ENCAPSED_STRING">'/[\s\t\n\r]*/'</token>
    <token name="T_PHPDOX_COMMA">,</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_CONSTANT_ENCAPSED_STRING">''</token>
    <token name="T_PHPDOX_COMMA">,</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_VARIABLE">$expected</token>
    <token name="T_PHPDOX_CLOSE_BRACKET">)</token>
    <token name="T_PHPDOX_SEMICOLON">;</token>
  </line>
  <line no="53">
    <token name="T_WHITESPACE">		</token>
  </line>
  <line no="54">
    <token name="T_WHITESPACE">		</token>
    <token name="T_VARIABLE">$this</token>
    <token name="T_OBJECT_OPERATOR">-&gt;</token>
    <token name="T_STRING">assertEquals</token>
    <token name="T_PHPDOX_OPEN_BRACKET">(</token>
    <token name="T_VARIABLE">$compare</token>
    <token name="T_PHPDOX_COMMA">,</token>
    <token name="T_WHITESPACE"> </token>
    <token name="T_VARIABLE">$expected</token>
    <token name="T_PHPDOX_CLOSE_BRACKET">)</token>
    <token name="T_PHPDOX_SEMICOLON">;</token>
  </line>
  <line no="55">
    <token name="T_WHITESPACE">	</token>
    <token name="T_PHPDOX_CLOSE_CURLY">}</token>
  </line>
  <line no="56">
    <token name="T_PHPDOX_CLOSE_CURLY">}</token>
  </line>
  <line no="57"/>
</source>
