<?xml version="1.0" encoding="UTF-8"?>
<class xmlns="http://xml.phpdox.net/src" full="SSViewerTest" namespace="" name="SSViewerTest" abstract="false" final="false" start="3" end="1425">
  <file path="/var/www/_modules/ecommerce_test/trunk/docs/en/phpdox/../../../framework/tests/view" file="SSViewerTest.php" realpath="/var/www/_modules/ecommerce_test/trunk/framework/tests/view/SSViewerTest.php" size="56092" time="2015-03-14T10:41:12+13:00" unixtime="1426282872" sha1="bb223c25460ee4c64fd1a7fd390d8c4f14ace84d" relative="framework/tests/view/SSViewerTest.php"/>
  <extends full="SapphireTest" namespace="" name="SapphireTest"/>
  <method name="setUp" start="4" end="7" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testCurrentTheme" start="14" end="19" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Tests for {@link Config::inst()-&gt;get('SSViewer', 'theme')} for different behaviour of user defined themes via {@link SiteConfig} and default theme when no user themes are defined."/>
    </docblock>
    <inline>
      <todo value="SiteConfig moved to CMS" line="15"/>
    </inline>
  </method>
  <method name="testTemplateWithoutHeadRenders" start="24" end="31" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Test that a template without a &lt;head&gt; tag still renders."/>
    </docblock>
  </method>
  <method name="testIncludeScopeInheritance" start="33" end="59" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="reset results for the tests that include arguments (the title is passed as an arg)" line="47"/>
    </inline>
  </method>
  <method name="getScopeInheritanceTestData" start="61" end="73" abstract="false" final="false" static="false" visibility="private"/>
  <method name="assertExpectedStrings" start="75" end="82" abstract="false" final="false" static="false" visibility="private">
    <parameter name="result" byreference="false" type="{unknown}"/>
    <parameter name="expected" byreference="false" type="{unknown}"/>
  </method>
  <method name="render" start="87" end="90" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Small helper to render templates from strings"/>
    </docblock>
    <parameter name="templateString" byreference="false" type="{unknown}"/>
    <parameter name="data" byreference="false" type="{unknown}" default="null"/>
  </method>
  <method name="testRequirements" start="92" end="105" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testRequirementsCombine" start="107" end="151" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="first make sure that our test js file causes an exception to be thrown" line="118"/>
      <comment value="secondly, make sure that requirements combine throws the correct warning, and only that warning" line="127"/>
      <comment value="and make sure the combined content matches the input content, i.e. no loss of functionality" line="141"/>
      <comment value="reset" line="149"/>
    </inline>
  </method>
  <method name="testComments" start="155" end="175" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testBasicText" start="177" end="182" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testBasicInjection" start="184" end="197" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testGlobalVariableCalls" start="200" end="204" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testGlobalVariableCallsWithArguments" start="206" end="213" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testGlobalVariablesAreEscaped" start="215" end="223" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testCoreGlobalVariableCalls" start="225" end="263" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testNonFieldCastingHelpersNotUsedInHasValue" start="265" end="275" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="check if Link without $ in front of variable" line="266"/>
      <comment value="check if Link with $ in front of variable" line="271"/>
    </inline>
  </method>
  <method name="testLocalFunctionsTakePriorityOverGlobals" start="277" end="299" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="call method with lots of arguments" line="282"/>
      <comment value="call method that does not exist" line="287"/>
      <comment value="call if that does not exist" line="291"/>
      <comment value="call method with same name as a global method (local call should take priority)" line="295"/>
    </inline>
  </method>
  <method name="testCurrentScopeLoopWith" start="301" end="340" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="Data to run the loop tests on - one sequence of three items, each with a subitem" line="302"/>
    </inline>
  </method>
  <method name="testObjectDotArguments" start="342" end="361" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testEscapedArguments" start="363" end="384" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testLoopWhitespace" start="386" end="429" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="The control tags are removed from the output, but no whitespace" line="394"/>
      <comment value="This is a quirk that could be changed, but included in the test to make the current" line="395"/>
      <comment value="behaviour explicit" line="396"/>
      <comment value="The whitespace within the control tags is preserve in a loop" line="410"/>
      <comment value="This is a quirk that could be changed, but included in the test to make the current" line="411"/>
      <comment value="behaviour explicit" line="412"/>
    </inline>
  </method>
  <method name="testControls" start="431" end="462" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="Single item controls" line="432"/>
      <comment value="Loop controls" line="446"/>
    </inline>
  </method>
  <method name="testIfBlocks" start="464" end="579" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="Basic test" line="465"/>
      <comment value="Nested test" line="469"/>
      <comment value="else_if" line="473"/>
      <comment value="Dot syntax" line="484"/>
      <comment value="Params" line="490"/>
      <comment value="Negation" line="496"/>
      <comment value="Or" line="502"/>
      <comment value="Negated Or" line="514"/>
      <comment value="And" line="522"/>
      <comment value="Equality" line="534"/>
      <comment value="test inequalities with simple numbers" line="544"/>
      <comment value="empty else_if and else tags, if this would not be supported," line="560"/>
      <comment value="the output would stop after A, thereby failing the assert" line="561"/>
      <comment value="Bare words with ending space" line="568"/>
      <comment value="Else" line="572"/>
      <comment value="Empty if with else" line="576"/>
    </inline>
  </method>
  <method name="testBaseTagGeneration" start="581" end="621" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="XHTML wil have a closed base tag" line="582"/>
      <comment value="HTML4 and 5 will only have it for IE" line="592"/>
      <comment value="Check that the content negotiator converts to the equally legal formats" line="610"/>
    </inline>
  </method>
  <method name="testIncludeWithArguments" start="623" end="666" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testRecursiveInclude" start="669" end="692" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="We don't care about whitespace" line="688"/>
    </inline>
  </method>
  <method name="assertEqualIgnoringWhitespace" start="694" end="696" abstract="false" final="false" static="false" visibility="public">
    <parameter name="a" byreference="false" type="{unknown}"/>
    <parameter name="b" byreference="false" type="{unknown}"/>
  </method>
  <method name="testCastingHelpers" start="702" end="755" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="See {@link ViewableDataTest} for more extensive casting tests, this test just ensures that basic casting is correctly applied during template parsing."/>
    </docblock>
    <inline>
      <comment value="Value casted as &quot;Text&quot;" line="708"/>
      <comment value="Value casted as &quot;HTMLText&quot;" line="722"/>
      <comment value="Uncasted value (falls back to ViewableData::$default_cast=&quot;HTMLText&quot;)" line="736"/>
      <todo value="Fix caching" line="737"/>
      <todo value="Fix caching" line="743"/>
      <todo value="Fix caching" line="749"/>
    </inline>
  </method>
  <method name="testSSViewerBasicIteratorSupport" start="757" end="860" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="base test" line="773"/>
      <comment value="test First" line="777"/>
      <comment value="test Last" line="781"/>
      <comment value="test Even" line="785"/>
      <comment value="test Even with quotes" line="789"/>
      <comment value="test Even without quotes" line="793"/>
      <comment value="test Even with zero-based start index" line="797"/>
      <comment value="test Odd" line="801"/>
      <comment value="test FirstLast" line="805"/>
      <comment value="test Middle" line="809"/>
      <comment value="test MiddleString" line="813"/>
      <comment value="test EvenOdd" line="819"/>
      <comment value="test Pos" line="824"/>
      <comment value="test Total" line="828"/>
      <comment value="test Modulus" line="832"/>
      <comment value="test MultipleOf 3" line="836"/>
      <comment value="test MultipleOf 4" line="840"/>
      <comment value="test MultipleOf 5" line="844"/>
      <comment value="test MultipleOf 10" line="848"/>
      <comment value="test MultipleOf 9 zero-based" line="852"/>
      <comment value="test MultipleOf 11" line="857"/>
    </inline>
  </method>
  <method name="testUpInWith" start="865" end="914" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Test $Up works when the scope $Up refers to was entered with a &quot;with&quot; block"/>
    </docblock>
    <inline>
      <comment value="Data to run the loop tests on - three levels deep" line="867"/>
      <comment value="Basic functionality" line="884"/>
      <comment value="Two level with block, up refers to internally referenced Bar" line="888"/>
      <comment value="Stepping up &amp; back down the scope tree" line="892"/>
      <comment value="Using $Up in a with block" line="896"/>
      <comment value="Stepping up &amp; back down the scope tree with with blocks" line="901"/>
      <comment value="Using $Up.Up, where first $Up points to a previous scope entered using $Up, thereby skipping up to Foo" line="906"/>
      <comment value="Using $Up.Up, where first $Up points to an Up used in a local scope lookup, should still skip to Foo" line="911"/>
    </inline>
  </method>
  <method name="testUpInLoop" start="919" end="990" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Test $Up works when the scope $Up refers to was entered with a &quot;loop&quot; block"/>
    </docblock>
    <inline>
      <comment value="Data to run the loop tests on - one sequence of three items, each with a subitem" line="921"/>
      <comment value="Make sure inside a loop, $Up refers to the current item of the loop" line="946"/>
      <comment value="Make sure inside a loop, looping over $Up uses a separate iterator," line="955"/>
      <comment value="and doesn't interfere with the original iterator" line="956"/>
      <comment value="Make sure inside a loop, looping over $Up uses a separate iterator," line="973"/>
      <comment value="and doesn't interfere with the original iterator or local lookups" line="974"/>
    </inline>
  </method>
  <method name="testNestedLoops" start="995" end="1031" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Test that nested loops restore the loop variables correctly when pushing and popping states"/>
    </docblock>
    <inline>
      <comment value="Data to run the loop tests on - one sequence of three items, one with child elements" line="997"/>
      <comment value="(of a different size to the main sequence)" line="998"/>
      <comment value="Make sure that including a loop inside a loop will not destroy the internal count of" line="1023"/>
      <comment value="items, checked by using &quot;Last&quot;" line="1024"/>
    </inline>
  </method>
  <method name="useTestTheme" start="1033" end="1054" abstract="false" final="false" static="false" visibility="protected">
    <parameter name="theme" byreference="false" type="{unknown}"/>
    <parameter name="callback" byreference="false" type="{unknown}"/>
    <inline>
      <comment value="Remove all the test themes we created" line="1049"/>
    </inline>
  </method>
  <method name="testLayout" start="1056" end="1066" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testGetTemplatesByClass" start="1071" end="1098" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description/>
      <covers value="SSViewer::get_templates_by_class()"/>
    </docblock>
  </method>
  <method name="testThemeRetrieval" start="1103" end="1130" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description/>
      <covers value="SSViewer::get_themes()"/>
    </docblock>
    <inline>
      <comment value="Remove all the test themes we created" line="1128"/>
    </inline>
  </method>
  <method name="testRewriteHashlinks" start="1132" end="1172" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="Emulate SSViewer::process()" line="1136"/>
      <comment value="Note: SSViewer_FromString doesn't rewrite hash links." line="1141"/>
    </inline>
  </method>
  <method name="testRewriteHashlinksInPhpMode" start="1174" end="1212" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="Note: SSViewer_FromString doesn't rewrite hash links." line="1180"/>
      <todo value="Fix inline links in PHP mode" line="1198"/>
      <comment value="$this-&gt;assertContains(" line="1199"/>
      <comment value="'&lt;a class=&quot;inline&quot; href=&quot;&lt;?php echo str_replace('," line="1200"/>
      <comment value="$result" line="1201"/>
      <comment value=");" line="1202"/>
    </inline>
  </method>
  <method name="testRenderWithSourceFileComments" start="1214" end="1302" abstract="false" final="false" static="false" visibility="public"/>
  <method name="_renderWithSourceFileComments" start="1303" end="1310" abstract="false" final="false" static="false" visibility="private">
    <parameter name="name" byreference="false" type="{unknown}"/>
    <parameter name="expected" byreference="false" type="{unknown}"/>
  </method>
  <method name="testLoopIteratorIterator" start="1312" end="1317" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testProcessOnlyIncludesRequirementsOnce" start="1319" end="1342" abstract="false" final="false" static="false" visibility="public">
    <inline>
      <comment value="if we disable the requirements then we should get nothing" line="1338"/>
    </inline>
  </method>
  <method name="testRequireCallInTemplateInclude" start="1344" end="1353" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testCallsWithArguments" start="1355" end="1392" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testClosedBlockExtension" start="1394" end="1408" abstract="false" final="false" static="false" visibility="public"/>
  <method name="testOpenBlockExtension" start="1410" end="1424" abstract="false" final="false" static="false" visibility="public"/>
  <parent full="SapphireTest" namespace="" name="SapphireTest">
    <extends full="PHPUnit_Framework_TestCase" namespace="" name="PHPUnit_Framework_TestCase"/>
    <member name="fixture_file" type="{unknown}" default="null" visibility="protected" line="27">
      <docblock>
        <description compact="Path to fixture data for this test run.">If passed as an array, multiple fixture files will be loaded.
Please note that you won't be able to refer with "=&gt;" notation
between the fixtures, they act independent of each other.</description>
        <var type="object">
          <type full="string|array" namespace="" name="string|array"/>
        </var>
      </docblock>
    </member>
    <member name="fixtureFactory" type="{unknown}" visibility="protected" line="32">
      <docblock>
        <description/>
        <var type="object">
          <type full="FixtureFactory" namespace="" name="FixtureFactory"/>
        </var>
      </docblock>
    </member>
    <member name="skipTest" type="{unknown}" default="false" visibility="protected" line="37">
      <docblock>
        <description/>
        <var description="Set whether to include this test in the TestRunner or to skip this." type="object">
          <type full="bool" namespace="" name="bool"/>
        </var>
      </docblock>
    </member>
    <member name="usesDatabase" type="{unknown}" default="null" visibility="protected" line="44">
      <docblock>
        <description/>
        <var description="If set to TRUE, this will force a test database to be generated" type="object">in <link xmlns="http://xml.phpdox.net/src" value="setUp()"/>. Note that this flag is overruled by the presence of a
<link xmlns="http://xml.phpdox.net/src" value="$fixture_file"/>, which always forces a database build.
<type full="Boolean" namespace="" name="Boolean"/></var>
      </docblock>
    </member>
    <member name="originalMailer" type="{unknown}" visibility="protected" line="46"/>
    <member name="originalMemberPasswordValidator" type="{unknown}" visibility="protected" line="47"/>
    <member name="originalRequirements" type="{unknown}" visibility="protected" line="48"/>
    <member name="originalIsRunningTest" type="{unknown}" visibility="protected" line="49"/>
    <member name="originalTheme" type="{unknown}" visibility="protected" line="50"/>
    <member name="originalNestedURLsState" type="{unknown}" visibility="protected" line="51"/>
    <member name="originalMemoryLimit" type="{unknown}" visibility="protected" line="52"/>
    <member name="mailer" type="{unknown}" visibility="protected" line="54"/>
    <member name="regular_manifest" type="{unknown}" visibility="protected" line="59">
      <docblock>
        <description compact="Pointer to the manifest that isn't a test manifest"/>
      </docblock>
    </member>
    <member name="is_running_test" type="{unknown}" default="false" visibility="protected" line="64">
      <docblock>
        <description/>
        <var type="boolean"/>
      </docblock>
    </member>
    <member name="test_class_manifest" type="{unknown}" visibility="protected" line="66"/>
    <member name="requireDefaultRecordsFrom" type="array" visibility="protected" line="73">
      <docblock>
        <description compact="By default, setUp() does not require default records. Pass class names in here, and the require/augment default records function will be called on them."/>
      </docblock>
    </member>
    <member name="illegalExtensions" type="array" visibility="protected" line="83">
      <docblock>
        <description compact="A list of extensions that can't be applied during the execution of this run.  If they are applied, they will be temporarily removed and a database migration called.">The keys of the are the classes that the extensions can't be applied the extensions to, and
the values are an array of illegal extensions on that class.</description>
      </docblock>
    </member>
    <member name="requiredExtensions" type="array" visibility="protected" line="98">
      <docblock>
        <description compact="A list of extensions that must be applied during the execution of this run.  If they are not applied, they will be temporarily added and a database migration called.">The keys of the are the classes to apply the extensions to, and the values are an array
of required extensions on that class.

Example:
&lt;code&gt;
array("MyTreeDataObject" =&gt; array("Versioned", "Hierarchy"))
&lt;/code&gt;</description>
      </docblock>
    </member>
    <member name="extraDataObjects" type="array" visibility="protected" line="106">
      <docblock>
        <description compact="By default, the test database won't contain any DataObjects that have the interface TestOnly.">This variable lets you define additional TestOnly DataObjects to set up for this test.
Set it to an array of DataObject subclass names.</description>
      </docblock>
    </member>
    <member name="backupGlobals" type="{unknown}" default="FALSE" visibility="protected" line="114">
      <docblock>
        <description compact="We need to disabling backing up of globals to avoid overriding the few globals SilverStripe relies on, like $lang for the i18n subsystem."/>
        <see value="http://sebastian-bergmann.de/archives/797-Global-Variables-and-PHPUnit.html"/>
      </docblock>
    </member>
    <member name="fixtures" type="array" visibility="protected" line="164">
      <docblock>
        <description/>
        <var description="$fixtures Array of {@link YamlFixture} instances" type="array"/>
        <deprecated value="3.1 Use $fixtureFactory instad"/>
      </docblock>
    </member>
    <member name="model" type="{unknown}" visibility="protected" line="166"/>
    <member name="cache_generatedMembers" type="array" visibility="protected" line="884">
      <docblock>
        <description compact="Cache for logInWithPermission()"/>
      </docblock>
    </member>
    <method name="is_running_test" start="131" end="133" abstract="false" final="false" static="true" visibility="public">
      <docblock>
        <description compact="Determines if unit tests are currently run (via {@link TestRunner}).">This is used as a cheap replacement for fully mockable state
in certain contiditions (e.g. access checks).
Caution: When set to FALSE, certain controllers might bypass
access checks, so this is a very security sensitive setting.</description>
        <return type="boolean"/>
      </docblock>
    </method>
    <method name="set_is_running_test" start="135" end="137" abstract="false" final="false" static="true" visibility="public">
      <parameter name="bool" byreference="false" type="{unknown}"/>
    </method>
    <method name="set_test_class_manifest" start="142" end="144" abstract="false" final="false" static="true" visibility="public">
      <docblock>
        <description compact="Set the manifest to be used to look up test classes by helper functions"/>
      </docblock>
      <parameter name="manifest" byreference="false" type="{unknown}"/>
    </method>
    <method name="get_test_class_manifest" start="149" end="151" abstract="false" final="false" static="true" visibility="public">
      <docblock>
        <description compact="Return the manifest being used to look up test classes by helper functions"/>
      </docblock>
    </method>
    <method name="get_fixture_file" start="156" end="158" abstract="false" final="false" static="true" visibility="public">
      <docblock>
        <description/>
        <return type="object">
          <type full="String" namespace="" name="String"/>
        </return>
      </docblock>
    </method>
    <method name="setUp" start="168" end="277" abstract="false" final="false" static="false" visibility="public">
      <inline>
        <comment value="We cannot run the tests on this abstract class." line="169"/>
        <comment value="Mark test as being run" line="180"/>
        <comment value="i18n needs to be set to the defaults or tests fail" line="184"/>
        <comment value="Set default timezone consistently to avoid NZ-specific dependencies" line="189"/>
        <comment value="Remove password validation" line="192"/>
        <comment value="Set up email" line="211"/>
        <todo value="this could be a special test model" line="217"/>
        <comment value="Set up fixture" line="220"/>
        <comment value="echo &quot;Re-creating temp database... &quot;;" line="225"/>
        <comment value="Support fixture paths relative to the test class, rather than relative to webroot" line="246"/>
        <comment value="String checking is faster than file_exists() calls." line="247"/>
        <comment value="backwards compatibility: Load first fixture into $this-&gt;fixture" line="260"/>
        <comment value="Preserve memory settings" line="269"/>
        <comment value="turn off template debugging" line="272"/>
        <comment value="Clear requirements" line="275"/>
      </inline>
    </method>
    <method name="setUpOnce" start="287" end="330" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="Called once per test case ({@link SapphireTest} subclass).">This is different to <link xmlns="http://xml.phpdox.net/src" value="setUp()"/>, which gets called once
per method. Useful to initialize expensive operations which
don't change state for any called method inside the test,
e.g. dynamically adding an extension. See <link xmlns="http://xml.phpdox.net/src" value="tearDownOnce()"/>for tearing down the state again.
</description>
      </docblock>
      <inline>
        <comment value="Remove any illegal extensions that are present" line="294"/>
        <comment value="Add any required extensions that aren't present" line="306"/>
        <comment value="If we have made changes to the extensions present, then migrate the database schema." line="319"/>
        <comment value="clear singletons, they're caching old extension info" line="324"/>
        <comment value="which is used in DatabaseAdmin-&gt;doBuild()" line="325"/>
        <comment value="Set default timezone consistently to avoid NZ-specific dependencies" line="328"/>
      </inline>
    </method>
    <method name="tearDownOnce" start="335" end="356" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="tearDown method that's called once per test class rather once per test method."/>
      </docblock>
      <inline>
        <comment value="If we have made changes to the extensions present, then migrate the database schema." line="336"/>
        <comment value="Remove extensions added for testing" line="338"/>
        <comment value="Reapply ones removed" line="345"/>
      </inline>
    </method>
    <method name="getFixtureFactory" start="361" end="364" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description/>
        <return type="object">
          <type full="FixtureFactory" namespace="" name="FixtureFactory"/>
        </return>
      </docblock>
    </method>
    <method name="setFixtureFactory" start="366" end="369" abstract="false" final="false" static="false" visibility="public">
      <parameter name="factory" byreference="false" type="object">
        <type full="\\FixtureFactory" namespace="\" name="FixtureFactory"/>
      </parameter>
    </method>
    <method name="idFromFixture" start="378" end="390" abstract="false" final="false" static="false" visibility="protected">
      <docblock>
        <description compact="Get the ID of an object from the fixture."/>
        <param description="data class, as specified in your fixture file.  Parent classes won't work" variable="$className" type="object">
          <type full="The" namespace="" name="The"/>
        </param>
        <param description="identifier string, as provided in your fixture file" variable="$identifier" type="object">
          <type full="The" namespace="" name="The"/>
        </param>
        <return type="int"/>
      </docblock>
      <parameter name="className" byreference="false" type="{unknown}"/>
      <parameter name="identifier" byreference="false" type="{unknown}"/>
    </method>
    <method name="allFixtureIDs" start="399" end="401" abstract="false" final="false" static="false" visibility="protected">
      <docblock>
        <description compact="Return all of the IDs in the fixture of a particular class name.">Will collate all IDs form all fixtures if multiple fixtures are provided.</description>
        <param type="string" variable="$className"/>
        <return description="map of fixture-identifier =&gt; object-id" type="object">
          <type full="A" namespace="" name="A"/>
        </return>
      </docblock>
      <parameter name="className" byreference="false" type="{unknown}"/>
    </method>
    <method name="objFromFixture" start="411" end="423" abstract="false" final="false" static="false" visibility="protected">
      <docblock>
        <description compact="Get an object from the fixture."/>
        <param description="The data class, as specified in your fixture file. Parent classes won't work" type="string" variable="$className"/>
        <param description="The identifier string, as provided in your fixture file" type="string" variable="$identifier"/>
        <return type="object">
          <type full="DataObject" namespace="" name="DataObject"/>
        </return>
      </docblock>
      <parameter name="className" byreference="false" type="{unknown}"/>
      <parameter name="identifier" byreference="false" type="{unknown}"/>
    </method>
    <method name="loadFixture" start="432" end="436" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="Load a YAML fixture file into the database.">Once loaded, you can use idFromFixture() and objFromFixture() to get items from the fixture.
Doesn't clear existing fixtures.</description>
        <param description="location of the .yml fixture file, relative to the site base dir" variable="$fixtureFile" type="object">
          <type full="The" namespace="" name="The"/>
        </param>
      </docblock>
      <parameter name="fixtureFile" byreference="false" type="{unknown}"/>
    </method>
    <method name="clearFixtures" start="442" end="445" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="Clear all fixtures which were previously loaded through {@link loadFixture()}"/>
      </docblock>
    </method>
    <method name="getCurrentAbsolutePath" start="452" end="456" abstract="false" final="false" static="false" visibility="protected">
      <docblock>
        <description compact="Useful for writing unit tests without hardcoding folder structures."/>
        <return description="Absolute path to current class." type="object">
          <type full="String" namespace="" name="String"/>
        </return>
      </docblock>
    </method>
    <method name="getCurrentRelativePath" start="461" end="466" abstract="false" final="false" static="false" visibility="protected">
      <docblock>
        <description/>
        <return description="File path relative to webroot" type="object">
          <type full="String" namespace="" name="String"/>
        </return>
      </docblock>
    </method>
    <method name="tearDown" start="468" end="504" abstract="false" final="false" static="false" visibility="public">
      <inline>
        <comment value="Preserve memory settings" line="469"/>
        <comment value="Restore email configuration" line="472"/>
        <comment value="Restore password validation" line="479"/>
        <comment value="Restore requirements" line="484"/>
        <comment value="Mark test as no longer being run - we use originalIsRunningTest to allow for nested SapphireTest calls" line="489"/>
        <comment value="Reset mocked datetime" line="493"/>
        <comment value="Stop the redirection that might have been requested in the test." line="496"/>
        <comment value="Note: Ideally a clean Controller should be created for each test." line="497"/>
        <comment value="Now all tests executed in a batch share the same controller." line="498"/>
      </inline>
    </method>
    <method name="assertContains" start="506" end="516" abstract="false" final="false" static="true" visibility="public">
      <parameter name="needle" byreference="false" type="{unknown}"/>
      <parameter name="haystack" byreference="false" type="{unknown}"/>
      <parameter name="message" byreference="false" type="string" default="''"/>
      <parameter name="ignoreCase" byreference="false" type="{unknown}" default="FALSE"/>
      <parameter name="checkForObjectIdentity" byreference="false" type="{unknown}" default="TRUE"/>
      <parameter name="checkForNonObjectIdentity" byreference="false" type="{unknown}" default="false"/>
    </method>
    <method name="assertNotContains" start="518" end="528" abstract="false" final="false" static="true" visibility="public">
      <parameter name="needle" byreference="false" type="{unknown}"/>
      <parameter name="haystack" byreference="false" type="{unknown}"/>
      <parameter name="message" byreference="false" type="string" default="''"/>
      <parameter name="ignoreCase" byreference="false" type="{unknown}" default="FALSE"/>
      <parameter name="checkForObjectIdentity" byreference="false" type="{unknown}" default="TRUE"/>
      <parameter name="checkForNonObjectIdentity" byreference="false" type="{unknown}" default="false"/>
    </method>
    <method name="clearEmails" start="533" end="535" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="Clear the log of emails sent"/>
      </docblock>
    </method>
    <method name="findEmail" start="547" end="549" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="Search for an email that was sent.">All of the parameters can either be a string, or, if they start with "/", a PREG-compatible regular expression.</description>
        <param variable="$to"/>
        <param variable="$from"/>
        <param variable="$subject"/>
        <param variable="$content"/>
        <return description="Contains keys: 'type', 'to', 'from', 'subject','content', 'plainContent', 'attachedFiles'," type="array">'customHeaders', 'htmlContent', 'inlineImages'</return>
      </docblock>
      <parameter name="to" byreference="false" type="{unknown}"/>
      <parameter name="from" byreference="false" type="{unknown}" default="null"/>
      <parameter name="subject" byreference="false" type="{unknown}" default="null"/>
      <parameter name="content" byreference="false" type="{unknown}" default="null"/>
    </method>
    <method name="assertEmailSent" start="561" end="576" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="Assert that the matching email was sent since the last call to clearEmails() All of the parameters can either be a string, or, if they start with &quot;/&quot;, a PREG-compatible regular expression."/>
        <param variable="$to"/>
        <param variable="$from"/>
        <param variable="$subject"/>
        <param variable="$content"/>
        <return description="Contains the keys: 'type', 'to', 'from', 'subject', 'content', 'plainContent', 'attachedFiles'," type="array">'customHeaders', 'htmlContent', inlineImages'</return>
      </docblock>
      <parameter name="to" byreference="false" type="{unknown}"/>
      <parameter name="from" byreference="false" type="{unknown}" default="null"/>
      <parameter name="subject" byreference="false" type="{unknown}" default="null"/>
      <parameter name="content" byreference="false" type="{unknown}" default="null"/>
    </method>
    <method name="assertDOSContains" start="599" end="622" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="Assert that the given {@link SS_List} includes DataObjects matching the given key-value pairs.  Each match must correspond to 1 distinct record."/>
        <param description="patterns to match.  Each pattern is a map of key-value pairs.  You can" variable="$matches" type="object">either pass a single pattern or an array of patterns.<type full="The" namespace="" name="The"/></param>
        <param description="{@link SS_List} to test." variable="$dataObjectSet" type="object">Examples
--------
Check that $members includes an entry with Email = sam@example.com:
     $this-&gt;assertDOSContains(array('Email' =&gt; '...@example.com'), $members);

Check that $members includes entries with Email = sam@example.com and with
Email = ingo@example.com:
     $this-&gt;assertDOSContains(array(
        array('Email' =&gt; '...@example.com'),
        array('Email' =&gt; 'i...@example.com'),
     ), $members);<type full="The" namespace="" name="The"/></param>
      </docblock>
      <parameter name="matches" byreference="false" type="{unknown}"/>
      <parameter name="dataObjectSet" byreference="false" type="{unknown}"/>
      <inline>
        <comment value="Remove it from $extracted so that we don't get duplicate mapping." line="607"/>
        <comment value="We couldn't find a match - assertion failed" line="614"/>
      </inline>
    </method>
    <method name="assertDOSEquals" start="641" end="674" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="Assert that the given {@link SS_List} includes only DataObjects matching the given key-value pairs.  Each match must correspond to 1 distinct record."/>
        <param description="patterns to match.  Each pattern is a map of key-value pairs.  You can" variable="$matches" type="object">either pass a single pattern or an array of patterns.<type full="The" namespace="" name="The"/></param>
        <param description="{@link SS_List} to test." variable="$dataObjectSet" type="object">Example
--------
Check that *only* the entries Sam Minnee and Ingo Schommer exist in $members.  Order doesn't
matter:
    $this-&gt;assertDOSEquals(array(
       array('FirstName' =&gt;'Sam', 'Surname' =&gt; 'Minnee'),
       array('FirstName' =&gt; 'Ingo', 'Surname' =&gt; 'Schommer'),
     ), $members);<type full="The" namespace="" name="The"/></param>
      </docblock>
      <parameter name="matches" byreference="false" type="{unknown}"/>
      <parameter name="dataObjectSet" byreference="false" type="{unknown}"/>
      <inline>
        <comment value="Remove it from $extracted so that we don't get duplicate mapping." line="651"/>
        <comment value="We couldn't find a match - assertion failed" line="658"/>
        <comment value="If we have leftovers than the DOS has extra data that shouldn't be there" line="667"/>
      </inline>
    </method>
    <method name="assertDOSAllMatch" start="688" end="699" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="Assert that the every record in the given {@link SS_List} matches the given key-value pairs."/>
        <param description="pattern to match.  The pattern is a map of key-value pairs." variable="$match" type="object">
          <type full="The" namespace="" name="The"/>
        </param>
        <param description="{@link SS_List} to test." variable="$dataObjectSet" type="object">Example
--------
Check that every entry in $members has a Status of 'Active':
    $this-&gt;assertDOSAllMatch(array('Status' =&gt; 'Active'), $members);<type full="The" namespace="" name="The"/></param>
      </docblock>
      <parameter name="match" byreference="false" type="{unknown}"/>
      <parameter name="dataObjectSet" byreference="false" type="{unknown}"/>
    </method>
    <method name="using_temp_db" start="723" end="728" abstract="false" final="false" static="true" visibility="public">
      <docblock>
        <description compact="Returns true if we are currently using a temporary database"/>
      </docblock>
    </method>
    <method name="kill_temp_db" start="730" end="747" abstract="false" final="false" static="true" visibility="public">
      <inline>
        <comment value="Delete our temporary database" line="731"/>
        <comment value="Some DataExtensions keep a static cache of information that needs to" line="736"/>
        <comment value="be reset whenever the database is killed" line="737"/>
        <comment value="echo &quot;Deleted temp database &quot; . $dbConn-&gt;currentDatabase() . &quot;\n&quot;;" line="743"/>
      </inline>
    </method>
    <method name="empty_temp_db" start="752" end="765" abstract="false" final="false" static="true" visibility="public">
      <docblock>
        <description compact="Remove all content from the temporary database."/>
      </docblock>
      <inline>
        <comment value="Some DataExtensions keep a static cache of information that needs to" line="757"/>
        <comment value="be reset whenever the database is cleaned out" line="758"/>
      </inline>
    </method>
    <method name="create_temp_db" start="767" end="792" abstract="false" final="false" static="true" visibility="public">
      <inline>
        <comment value="Disable PHPUnit error handling" line="768"/>
        <comment value="Create a temporary database, and force the connection to use UTC for time" line="771"/>
        <comment value="Reinstate PHPUnit error handling" line="788"/>
      </inline>
    </method>
    <method name="delete_all_temp_dbs" start="794" end="807" abstract="false" final="false" static="true" visibility="public"/>
    <method name="resetDBSchema" start="813" end="848" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="Reset the testing database's schema."/>
        <param description="true, the extraDataObjects tables will also be included" variable="$includeExtraDataObjects" type="object">
          <type full="If" namespace="" name="If"/>
        </param>
      </docblock>
      <parameter name="includeExtraDataObjects" byreference="false" type="{unknown}" default="false"/>
      <inline>
        <comment value="clear singletons, they're caching old extension info which is used in DatabaseAdmin-&gt;doBuild()" line="817"/>
        <comment value="Check if class exists before trying to instantiate - this sidesteps any manifest weirdness" line="828"/>
        <comment value="If we have additional dataobjects which need schema, do so here:" line="835"/>
      </inline>
    </method>
    <method name="logInWithPermission" start="854" end="879" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="Create a member and group with the given permission code, and log in with it.">Returns the member ID.</description>
      </docblock>
      <parameter name="permCode" byreference="false" type="string" default="&quot;ADMIN&quot;"/>
    </method>
  </parent>
  <parent full="PHPUnit_Framework_TestCase" namespace="" name="PHPUnit_Framework_TestCase"/>
</class>
